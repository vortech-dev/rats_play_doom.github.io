<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Rats Play Doom — Hardware Assembly Guide</title>
<meta name="description" content="Single-page, print-friendly assembly guide for the Rats Play Doom open hardware rig.">
<style>
  :root{--fg:#111;--bg:#fff;--mut:#555;--acc:#0a66c2;--bd:#ddd;--max:920px}
  *{box-sizing:border-box}
  body{margin:0;font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;color:var(--fg);background:var(--bg)}
  a{color:var(--acc)} a:visited{color:#084a8a}
  .wrap{max-width:var(--max);margin:0 auto;padding:16px}
  header{border-bottom:1px solid var(--bd);background:#fafafa}
  h1{margin:.2rem 0 .4rem;font-size:clamp(1.4rem,2.8vw,2.1rem)}
  h2{margin:1.6rem 0 .4rem;border-bottom:1px solid var(--bd);padding-bottom:.25rem}
  h3{margin:1rem 0 .25rem}
  figure{margin:12px 0}
  .ph{width:100%;aspect-ratio:16/9;background:#eaeaea;border:1px dashed #bbb}
  figcaption{color:var(--mut);font-size:.95rem}
  ul,ol{padding-left:1.25rem}
  kbd,code{font-family:ui-monospace,Menlo,Consolas,monospace;font-size:.95em}
  aside[role=note],aside[role=alert]{margin:.75rem 0;padding:.6rem .8rem;border:1px solid var(--bd);background:#f6f8fa}
  aside[role=alert]{background:#fff3f3;border-color:#f1c1c1}
  .grid{display:grid;gap:12px;grid-template-columns:1fr}
  @media(min-width:840px){.grid{grid-template-columns:1fr 1fr}}
  .xref{font-size:.85em;white-space:nowrap}
  .bom{border:1px solid var(--bd);padding:.6rem}
  .bom .part{padding:.5rem 0;border-top:1px solid var(--bd)}
  .bom .part:first-child{border-top:0}
  .meta{color:var(--mut);font-size:.95rem}
  .pagebreak{break-before:page}
  @media print{a{color:inherit;text-decoration:underline} header{background:none} .wrap{padding:0} .pagebreak{break-before:page}}
</style>
</head>
<body>
<header>
  <div class="wrap">
    <h1>Rats Play Doom — Hardware Assembly Guide</h1>
    <p class="meta">Open-source VR treadmill rig for rats. Mechanical + electrical build. Static HTML, print-friendly.</p>
    <figure>
      <div class="ph" role="img" aria-label="What you'll build: frame, ball, headset display arc, trigger lever, reward tubing, sensors, harness."></div>
      <figcaption>What you’ll build (placeholder). Replace with photo/diagram.</figcaption>
    </figure>
    <p class="meta">Source refs: <a href="assets/Hardware_Setup_Guide.pdf">Hardware_Setup_Guide.pdf</a>, <a href="assets/Hardware_Setup_Guide.txt">Hardware_Setup_Guide.txt</a></p>
    <aside role="note"><strong>Preflight checklist</strong>
      <ul>
        <li>Read guide once. Stage parts by section.</li>
        <li>Tools: hex keys, drivers, calipers, soldering iron, stripper, crimper, multimeter, hot glue, zip ties.</li>
        <li>12 V PSU with fusing; check polarity; strain relief.</li>
        <li>3D prints test-fit; sand if tight.</li>
        <li>Cut/deburr aluminum; protect edges.</li>
        <li>Follow part cross-links like <a href="#part-omniwheel-100mm" class="xref">[omniwheel-100mm]</a>.</li>
      </ul>
    </aside>
    <aside role="alert"><strong>Safety & handling</strong>
      <ul>
        <li>Wear eye/hand PPE while cutting; beware pinch points (actuator, lever).</li>
        <li>Fuse near source; insulate splices; verify polarity before power-up.</li>
        <li>Keep liquids away from electronics; add drip loops; secure tubing.</li>
      </ul>
    </aside>
  </div>
</header>

<main>
  <div class="wrap">

    <section id="frame-assembly" aria-labelledby="h2-frame">
      <h2 id="h2-frame">1) Frame Assembly</h2>
      <p>Aluminum profiles. Levels: bottom (locomotion), middle (sensors & reward), top (VR & harness).</p>
      <div class="grid">
        <div>
          <h3>Required parts</h3>
          <ul>
            <li>Pillars/crossbeams/mounts per cut list.</li>
            <li>Fasteners: <a href="#part-m4x8" class="xref">[m4x8]</a>, <a href="#part-m4-t-slot-nut" class="xref">[m4-t-slot-nut]</a>, <a href="#part-m4x14" class="xref">[m4x14]</a>.</li>
          </ul>
          <h3>Tools</h3>
          <ul><li>Saw, deburr tool, square, hex keys, tape measure.</li></ul>
          <h3>Cut list</h3>
          <ul>
            <li>Pillars: 4 × 100×4×4 cm</li>
            <li>Crossbeams: 10 × 70×4×2 cm</li>
            <li>Motor mounts: 2 × 80×4×2 cm</li>
            <li>Sensor mounts: 2 × 10×2×2 cm</li>
            <li>VR mount: 1 × 60×4×2 cm</li>
            <li>Harness mounts: 1 × 80×4×2; 1 × 30×4×2 cm</li>
          </ul>
        </div>
        <div>
          <figure>
            <div class="ph" role="img" aria-label="Exploded frame, three levels."></div>
            <figcaption>Blender: frame.blend — <a href="blender/frame.blend" download>Download</a> (TODO)</figcaption>
          </figure>
        </div>
      </div>
      <h3>Steps</h3>
      <ol>
        <li>Cut per list; deburr.</li>
        <li>Assemble bottom rectangle; square.</li>
        <li>Install pillars; check vertical.</li>
        <li>Add middle and top rectangles; keep spacing.</li>
        <li>Add crossbeams at module points; snug all.</li>
      </ol>
      <h3>QA checks</h3>
      <ul>
        <li>Square, no wobble.</li>
        <li>40 cm ball clearance at bottom.</li>
        <li>Free T-slots for cable clamps.</li>
      </ul>
      <aside role="note">Troubleshooting: Rack → loosen, re-square, tighten in criss-cross.</aside>
    </section>

    <section id="locomotion-system" class="pagebreak" aria-labelledby="h2-locomotion">
      <h2 id="h2-locomotion">2) Locomotion System</h2>
      <p>Three-wheel cradle; actuator tensions cradle. Active (driven) or passive (free) modes.</p>
      <div class="grid">
        <div>
          <h3>Required parts</h3>
          <ul>
            <li>3 × <a href="#part-omniwheel-100mm" class="xref">[omniwheel-100mm]</a></li>
            <li>3 × <a href="#part-mounting-hub-8mm" class="xref">[mounting-hub-8mm]</a></li>
            <li>3 × <a href="#part-pololu-25d-99to1" class="xref">[pololu-25d-99to1]</a></li>
            <li>Linear actuator 4" 12 V</li>
            <li>40 cm styrofoam ball coated with <a href="#part-flex-seal" class="xref">[flex-seal]</a></li>
            <li>2 × HW95 motor drivers; PSU HDR-100-12N; <a href="#part-fuse-holder" class="xref">[fuse-holder]</a>/<a href="#part-fuses" class="xref">[fuses]</a></li>
            <li>Alt driver: <a href="#part-l298n" class="xref">[l298n]</a></li>
          </ul>
          <h3>Tools</h3>
          <ul><li>Hex keys, threadlocker, soldering iron, crimper, multimeter.</li></ul>
        </div>
        <div>
          <figure>
            <div class="ph" role="img" aria-label="Locomotion base with actuator and 3 wheels."></div>
            <figcaption>Blender: spawn_base_ver3_18a.blend — <a href="blender/spawn_base_ver3_18a.blend" download>Download</a> (TODO)</figcaption>
          </figure>
          <figure>
            <div class="ph" role="img" aria-label="Motor/driver/encoder schematic placeholder."></div>
            <figcaption>KiCad: raspby_to_hw95, motor, hwstohdr — <a href="kicad/raspby_to_hw95.zip" download>Download</a> (TODO)</figcaption>
          </figure>
        </div>
      </div>
      <h3>Steps</h3>
      <ol>
        <li>Mount actuator in bottom base; rod up.</li>
        <li>Attach top base; align clevis.</li>
        <li>Install motor tubes + motors; add shaft enlargers <em>TODO spec</em>.</li>
        <li>Mount wheels; check concentricity.</li>
        <li>Insert arms + bearing housings; seat bearings.</li>
        <li>Wire 2× HW95 + encoders per KiCad; test spin.</li>
        <li>Coat ball once; cure; place centered.</li>
      </ol>
      <h3>QA checks</h3>
      <ul>
        <li>Free spin; no rubbing.</li>
        <li>Actuator travels smoothly.</li>
        <li>Correct polarity; fuses installed.</li>
      </ul>
      <aside role="note">Troubleshooting: Vibration → re-seat bearings; balance ball; reduce shaft runout.</aside>
    </section>

    <section id="ball-sensors" class="pagebreak" aria-labelledby="h2-sensors">
      <h2 id="h2-sensors">3) Ball Sensors</h2>
      <p>Two PAA5100JE sensors at 90°. Rigid mounts; clear view.</p>
      <div class="grid">
        <div>
          <h3>Required parts</h3>
          <ul>
            <li>2 × PAA5100JE</li>
            <li>2 × rigid mounts</li>
            <li>Cables, ties</li>
          </ul>
          <h3>Tools</h3>
          <ul><li>Screwdrivers, hot glue, clips.</li></ul>
        </div>
        <div>
          <figure>
            <div class="ph" role="img" aria-label="Sensors around ball at 90 degrees."></div>
            <figcaption>Blender: motion_sensor_mount.blend — <a href="blender/motion_sensor_mount.blend" download>Download</a> (TODO)</figcaption>
          </figure>
          <figure>
            <div class="ph" role="img" aria-label="Sensors KiCad schematic placeholder."></div>
            <figcaption>KiCad: sensors — <a href="kicad/sensors.zip" download>Download</a> (TODO)</figcaption>
          </figure>
        </div>
      </div>
      <h3>Steps</h3>
      <ol>
        <li>Mount at 90° around ball; equal standoff.</li>
        <li>Avoid glare; ensure clear view.</li>
        <li>Secure wiring; avoid moving parts.</li>
      </ol>
      <h3>QA checks</h3>
      <ul>
        <li>Rigid; no flex.</li>
        <li>Non-zero flow when ball moves.</li>
        <li>No cable drag.</li>
      </ul>
      <aside role="note">Troubleshooting: Weak signal → reduce standoff; shield ambient IR; correct orientation.</aside>
    </section>

    <section id="reward-circuit" class="pagebreak" aria-labelledby="h2-reward">
      <h2 id="h2-reward">4) Reward Circuit Installation</h2>
      <p>Pressurized line; valve dosing; air puff feedback.</p>
      <div class="grid">
        <div>
          <h3>Required parts</h3>
          <ul>
            <li>2 × <a href="#part-mini-air-pump" class="xref">[mini-air-pump]</a></li>
            <li><a href="#part-mpx5700ap" class="xref">[mpx5700ap]</a>; 16 V 100 μF cap; 2.2 kΩ</li>
            <li>Valve <em>TODO:model</em></li>
            <li><a href="#part-t-junction-4mm" class="xref">[t-junction-4mm]</a>; <a href="#part-pvc-tubing" class="xref">[pvc-tubing]</a>; adapter 10/6 → 4/2</li>
            <li>Blowers ×2 via HW95 + Arduino</li>
          </ul>
          <h3>Tools</h3>
          <ul><li>Soldering iron, heatshrink, ties.</li></ul>
        </div>
        <div>
          <figure>
            <div class="ph" role="img" aria-label="Mixer cap and reservoir"></div>
            <figcaption>Blender: mixer_cap.blend — <a href="blender/mixer_cap.blend" download>Download</a> (TODO)</figcaption>
          </figure>
          <figure>
            <div class="ph" role="img" aria-label="Reward wiring/pneumatic schematic"></div>
            <figcaption>KiCad: valve, waterpump, stepmotor+pressuresensor, blowsystem — <a href="kicad/reward.zip" download>Download</a> (TODO)</figcaption>
          </figure>
        </div>
      </div>
      <h3>Steps</h3>
      <ol>
        <li>Mount reservoir + mixer near headset.</li>
        <li>Plumb pump → T → pressure sensor; main → valve → dispenser.</li>
        <li>Add cap across pump; route/strain-relief.</li>
        <li>Place blowers near whiskers; wire to HW95 + Arduino.</li>
      </ol>
      <h3>QA checks</h3>
      <ul>
        <li>Holds pressure; quick valve response.</li>
        <li>No leaks; clean drips.</li>
        <li>Air puff consistent, gentle.</li>
      </ul>
      <aside role="note">Troubleshooting: Slow dose → shorten tubing; pre-pressurize; verify valve orientation/voltage.</aside>
    </section>

    <section id="trigger-mechanism" class="pagebreak" aria-labelledby="h2-trigger">
      <h2 id="h2-trigger">5) Trigger Mechanism</h2>
      <p>Lever with SG90 actuation + rotary encoder; dual springs.</p>
      <div class="grid">
        <div>
          <h3>Required parts</h3>
          <ul>
            <li>Lever, housings, spring holder</li>
            <li><a href="#part-sg90-servo" class="xref">[sg90-servo]</a>; Keyestudio rotary encoder</li>
            <li>2 × springs E0063-007-0380S <a href="#part-springs" class="xref">[springs]</a></li>
            <li>Fasteners <a href="#part-m4x8" class="xref">[m4x8]</a></li>
          </ul>
          <h3>Tools</h3>
          <ul><li>Hex keys, small Phillips, threadlocker.</li></ul>
        </div>
        <div>
          <figure>
            <div class="ph" role="img" aria-label="Trigger lever with springs"></div>
            <figcaption>Blender: vr_headset6_rev15_lever3_a8.blend — <a href="blender/vr_headset6_rev15_lever3_a8.blend" download>Download</a> (TODO)</figcaption>
          </figure>
          <figure>
            <div class="ph" role="img" aria-label="Trigger KiCad schematic"></div>
            <figcaption>KiCad: trigger — <a href="kicad/trigger.zip" download>Download</a> (TODO)</figcaption>
          </figure>
        </div>
      </div>
      <h3>Steps</h3>
      <ol>
        <li>Mount encoder to housing.</li>
        <li>Mount SG90 opposite.</li>
        <li>Seat lever; couple to encoder + servo horn.</li>
        <li>Close top; install spring holder; attach springs.</li>
        <li>Mount on adjustable arm within paw reach.</li>
      </ol>
      <h3>QA checks</h3>
      <ul>
        <li>Lever returns to rest; no stall.</li>
        <li>Encoder counts smooth.</li>
        <li>Symmetric preload.</li>
      </ul>
      <aside role="note">Troubleshooting: Sticky → realign horn; lighter springs; lube pivots.</aside>
    </section>

    <section id="display-system" class="pagebreak" aria-labelledby="h2-display">
      <h2 id="h2-display">6) Display System</h2>
      <p>3D-printed holder for OLED at rat eye level.</p>
      <div class="grid">
        <div>
          <h3>Required parts</h3>
          <ul>
            <li><a href="#part-oled-module" class="xref">[oled-module]</a></li>
            <li>Printed holder + hardware</li>
            <li>Optional <a href="#part-loudspeaker" class="xref">[loudspeaker]</a></li>
          </ul>
          <h3>Tools</h3>
          <ul><li>3D printer, screwdrivers.</li></ul>
        </div>
        <div>
          <figure>
            <div class="ph" role="img" aria-label="Headset assembly render"></div>
            <figcaption>Blender: full_headset_guide.blend — <a href="blender/full_headset_guide.blend" download>Download</a> (TODO)</figcaption>
          </figure>
        </div>
      </div>
      <h3>Steps</h3>
      <ol>
        <li>Print holder; deburr.</li>
        <li>Mount OLED; route cable.</li>
        <li>Attach to arm; align at eye height.</li>
      </ol>
      <h3>QA checks</h3>
      <ul>
        <li>Stable mount; no wobble.</li>
        <li>Clear view; not occluded by harness.</li>
      </ul>
      <aside role="note">Troubleshooting: Glare → adjust angle; add visor; dim.</aside>
    </section>

    <section id="rat-harness" class="pagebreak" aria-labelledby="h2-harness">
      <h2 id="h2-harness">7) Rat Harness System</h2>
      <p>Suspends above ball; paws rest; slight vertical movement allowed.</p>
      <div class="grid">
        <div>
          <h3>Required parts</h3>
          <ul><li>Harness assembly and mounts; fasteners.</li></ul>
          <h3>Tools</h3>
          <ul><li>Hex keys; padding.</li></ul>
        </div>
        <div>
          <figure>
            <div class="ph" role="img" aria-label="Harness over ball"></div>
            <figcaption>Blender: harness.blend — <a href="blender/harness.blend" download>Download</a> (TODO)</figcaption>
          </figure>
        </div>
      </div>
      <h3>Steps</h3>
      <ol>
        <li>Mount to top crossbeam.</li>
        <li>Set height for natural paw contact.</li>
        <li>Add padding; check chafing.</li>
      </ol>
      <h3>QA checks</h3>
      <ul>
        <li>Paws rest without strain.</li>
        <li>Minor vertical give; no swing.</li>
      </ul>
      <aside role="note">Troubleshooting: Tense posture → lower a bit; add padding.</aside>
    </section>

    <section id="bom" class="pagebreak" aria-labelledby="h2-bom">
      <h2 id="h2-bom">8) Bill of Materials (BOM) and Links</h2>
      <p class="meta">Global, deduped. Every bracket ID is stable and referenced above.</p>
      <div class="bom" role="list">
        <div class="part" id="part-pololu-25d-99to1" role="listitem"><strong>[pololu-25d-99to1]</strong> Pololu 99:1 25D motor w/ 48 CPR encoder — <a href="https://www.pololu.com/product/4867">pololu.com/product/4867</a></div>
        <div class="part" id="part-omniwheel-100mm" role="listitem"><strong>[omniwheel-100mm]</strong> 100 mm omnidirectional wheel — <a href="https://eu.robotshop.com/products/100mm-omnidirectional-wheel-brass-bearing-rollers">RobotShop</a></div>
        <div class="part" id="part-mounting-hub-8mm" role="listitem"><strong>[mounting-hub-8mm]</strong> 8 mm universal mounting hub — <a href="https://eu.robotshop.com/products/8mm-shaft-universal-aluminum-mounting-hub">RobotShop</a></div>
        <div class="part" id="part-l298n" role="listitem"><strong>[l298n]</strong> L298N driver (alt) — <a href="https://www.hestore.hu/prod_10036621.html?lang=en">Hestore</a></div>
        <div class="part" id="part-t-junction-4mm" role="listitem"><strong>[t-junction-4mm]</strong> T‑junction 4 mm — <a href="https://www.terkowebaruhaz.hu/Mikro-idom-T-idom-4-mm">terkowebaruhaz.hu</a></div>
        <div class="part" id="part-flex-seal" role="listitem"><strong>[flex-seal]</strong> Flex Seal (clear) — <a href="https://www.amazon.co.uk/dp/B019PFO4MA">Amazon</a></div>
        <div class="part" id="part-mpx5700ap" role="listitem"><strong>[mpx5700ap]</strong> Grove pressure sensor kit (MPX5700AP) — <a href="https://wiki.seeedstudio.com/Grove-Integrated-Pressure-Sensor-Kit/">Seeed</a></div>
        <div class="part" id="part-mini-air-pump" role="listitem"><strong>[mini-air-pump]</strong> Mini air pump — <a href="https://www.hestore.hu/prod_10041524.html">Hestore</a></div>
        <div class="part" id="part-pvc-tubing" role="listitem"><strong>[pvc-tubing]</strong> PVC tubing — <a href="https://www.hestore.hu/prod_10042175.html">Hestore</a></div>
        <div class="part" id="part-loudspeaker" role="listitem"><strong>[loudspeaker]</strong> Loudspeaker — <a href="https://www.hestore.hu/prod_10029791.html">Hestore</a></div>
        <div class="part" id="part-sg90-servo" role="listitem"><strong>[sg90-servo]</strong> SG90 micro servo — <a href="https://www.hestore.hu/prod_10031188.html">Hestore</a></div>
        <div class="part" id="part-oled-module" role="listitem"><strong>[oled-module]</strong> OLED display module — <a href="https://www.aliexpress.com/item/1005003546051861.html">AliExpress</a></div>
        <div class="part" id="part-fuse-holder" role="listitem"><strong>[fuse-holder]</strong> DIN rail fuse holder — <a href="https://hu.rs-online.com/web/p/din-sinre-szerelheto-sorkapcsok/7684611">RS</a></div>
        <div class="part" id="part-fuses" role="listitem"><strong>[fuses]</strong> Fuses — <a href="https://hu.rs-online.com/web/p/uveg-biztositekok/6686029">6686029</a> · <a href="https://hu.rs-online.com/web/p/uveg-biztositekok/6686082">6686082</a> · <a href="https://hu.rs-online.com/web/p/uveg-biztositekok/0412223">0412223</a> · <a href="https://hu.rs-online.com/web/p/uveg-biztositekok/6686032">6686032</a></div>
        <div class="part" id="part-springs" role="listitem"><strong>[springs]</strong> Springs — <a href="https://biotek.hu/termek/asp06120-e0063-007-0380s">E0063-007-0380S</a> · <a href="https://biotek.hu/termek/asp06168-e0094-010-0380s">E0094-010-0380S</a> · <a href="https://rugobolt.hu/Huzorugo-07x64x58-mm-A-69-horganyzott">A-69</a> · <a href="https://rugobolt.hu/Huzorugo-07x60x14-mm-A-25-horganyzott">A-25</a> · <a href="https://rugobolt.hu/Huzorugo-08x7x35-mm-A49-mm-horganyzott">A-49</a></div>
        <div class="part" id="part-power-supplies" role="listitem"><strong>[power-supplies]</strong> Power supplies — <a href="https://www.elektrobot.hu/termek.php?filename=7386.html&i=7386">Elektrobot</a> · <a href="https://www.hestore.hu/prod_10038317.html">Hestore 1</a> · <a href="https://www.hestore.hu/prod_10040292.html">Hestore 2</a> · <a href="https://www.hestore.hu/prod_10040837.html">Hestore 3</a> · <a href="https://www.hestore.hu/prod_10041317.html">Hestore 4</a> · <a href="https://www.hestore.hu/prod_10042653.html">Hestore 5</a> · <a href="https://www.hestore.hu/prod_10040955.html">Hestore 6</a></div>
      </div>
    </section>

    <section id="final-verification" class="pagebreak" aria-labelledby="h2-final">
      <h2 id="h2-final">Final verification</h2>
      <ul>
        <li>All modules mounted and secured. Cables tied; no chafe.</li>
        <li>12 V rails fused; polarity checked; no overheating after 10 min run.</li>
        <li>Ball spins freely; sensors report motion; trigger returns; reward doses repeatably.</li>
      </ul>
    </section>

  </div>
</main>

<footer>
  <div class="wrap">
    <p class="meta">Revision history: v0.1 — 2025-08-07</p>
  </div>
</footer>
</body>
</html>
